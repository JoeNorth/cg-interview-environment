Version: "2012-10-17"
Statement:
  - Effect: Allow
    Action:
      - logs:DescribeLogGroups
      - logs:ListTagsForResource
    Resource: ["*"]
  - Effect: Allow
    Action:
      - logs:CreateLogGroup
      - logs:DeleteLogGroup
      - logs:DeleteSubscriptionFilter
      - logs:PutRetentionPolicy
      - logs:PutSubscriptionFilter
      - logs:TagResource
      - logs:TagLogGroup
      - logs:Get*
      - logs:Describe*
      - logs:List*
    Resource:
      - !Sub arn:aws:logs:${AWS::Region}:${AWS::AccountId}:log-group:${Env}*
      - !Sub arn:aws:logs:${AWS::Region}:${AWS::AccountId}:log-group:/${Env}*
      - !Sub arn:aws:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/eks/${Env}*
  - Effect: Allow
    Action:
      - ssm:DescribeParameters
      - ssm:ListTagsForResource
    Resource: ["*"]
  - Effect: Allow
    Action:
      - ssm:PutParameter
      - ssm:GetParameter
      - ssm:GetParameters
      - ssm:DeleteParameter
      - ssm:AddTagsToResource
    Resource:
      - !Sub arn:aws:ssm:${AWS::Region}:${AWS::AccountId}:parameter/${Env}*
      - !Sub arn:aws:ssm:${AWS::Region}:${AWS::AccountId}:parameter/cg-interview/${Env}*
  - Effect: Allow
    Action:
      - ssm:GetParameter
    Resource:
      - !Sub arn:aws:ssm:${AWS::Region}::parameter/aws/service/eks/optimized-ami/*
  - Effect: Allow
    Action:
      - s3:CreateBucket
      - s3:DeleteBucket
      - s3:List*
      - s3:Get*
      - s3:PutBucketPublicAccessBlock
      - s3:PutBucketTagging
      - s3:DeleteObject
      - s3:DeleteObjectVersion
    Resource:
      - arn:aws:s3:::${Env}*
      - arn:aws:s3:::${Env}*/*
  - Effect: Allow
    Action:
      - s3:ListAllMyBuckets
    Resource: ["*"]