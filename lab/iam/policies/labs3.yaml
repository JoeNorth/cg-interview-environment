Version: "2012-10-17"
Statement:
  - Effect: Allow
    Action:
      - lambda:CreateFunction
      - lambda:UpdateFunctionCode
      - lambda:GetFunctionConfiguration
      - lambda:UpdateFunctionConfiguration
      - lambda:GetFunction
      - lambda:DeleteFunction
      - lambda:InvokeFunction
      - lambda:AddPermission
      - lambda:RemovePermission
      - lambda:PublishLayerVersion
      - lambda:PublishVersion
    Resource:
      - !Sub arn:aws:lambda:${AWS::Region}:${AWS::AccountId}:function:*${Env}*
      - !Sub arn:aws:lambda:${AWS::Region}:${AWS::AccountId}:layer:*${Env}*
  - Effect: Allow
    Action:
      - cloudformation:ListStacks
      - cloudformation:DescribeStacks
    Resource: ["*"]
  - Effect: Allow
    Action:
      - cloudformation:CreateStack
      - cloudformation:DeleteStack
      - cloudformation:TagResource
      - cloudformation:UntagResource
    Resource:
      - !Sub arn:aws:cloudformation:${AWS::Region}:${AWS::AccountId}:stack/${Env}*
  - Effect: Allow
    Action:
      - route53:CreateHostedZone
      - route53:DeleteHostedZone
      - route53:AssociateVPCWithHostedZone
      - route53:DisassociateVPCFromHostedZone
      - route53:GetChange
      - route53:GetHostedZone
      - route53:ListResourceRecordSets
      - route53:ListTagsForResource
      - route53:ChangeTagsForResource
      - route53:ChangeResourceRecordSets
      - route53:GetDNSSEC
    Resource: ["*"]
